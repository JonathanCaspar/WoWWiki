{"version":3,"sources":["pages/characters/Characters.js","api/BlizzardAPI.js","pages/mounts/MountsSlice.js","components/LoadingSpinner/LoadingSpinner.js","pages/mounts/MountsList.js","pages/mounts/MountViewer.js","pages/mounts/Mounts.js","pages/pets/Pets.js","components/Nav/Nav.js","components/Footer/Footer.js","App.js","store.js","index.js","assets/favicon.svg"],"names":["Characters","props","state","value","handleCharacterSearch","bind","event","target","formatValue","length","substr","toUpperCase","toLowerCase","this","setState","t","className","onSubmit","type","onChange","Component","withTranslation","client_id","requestAuthToken","a","console","log","axios","post","auth","username","password","params","grant_type","getAuthToken","token","localStorage","getItem","token_expire_time","Math","floor","Date","now","then","result","data","access_token","new_expire_date","expires_in","setItem","error","client","endpoint","body","customConfig","headers","config","method","Authorization","validateStatus","status","JSON","stringify","Promise","reject","message","getMountIndex","region","namespace","locale","BLIZZARD_ENDPOINT","getMountById","mountid","fetchMounts","createAsyncThunk","response","mounts","fetchMountById","mountId","fetchMountAsset","mount","creature_displays","key","href","MountsSlice","createSlice","name","initialState","selectedMount","selectedMountAsset","selectedMountStatus","selectedMountError","reducers","newMountClicked","extraReducers","pending","fulfilled","action","concat","payload","rejected","assets","actions","LoadingSpinner","text","color","height","width","MountsList","renderedList","dispatch","useDispatch","useTranslation","useSelector","useEffect","slice","sort","b","localeCompare","map","id","to","MountViewer","renderedMount","match","mountStatus","mountAsset","description","src","alt","Mounts","path","component","Pets","Nav","handleBurgerOpen","prevState","burgerOpen","handleLangChange","i18n","prevLang","lang","newLang","getNextLang","changeLanguage","nextLang","isOpen","onClick","favicon","Footer","App","exact","configureStore","reducer","mountsReducers","i18next","init","interpolation","escapeValue","lng","resources","en","common","common_en","fr","common_fr","ReactDOM","render","store","I18nextProvider","document","getElementById","module","exports"],"mappings":"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","file":"static/js/main.0864a064.chunk.js","sourcesContent":["import React, { Component } from 'react'\r\nimport { withTranslation } from 'react-i18next'\r\n//import './Characters.css'\r\n\r\nclass Characters extends Component {\r\n\t\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\t\tthis.state = { value: '' }\r\n\t\tthis.handleCharacterSearch = this.handleCharacterSearch.bind(this)\r\n\t}\r\n\r\n\thandleCharacterSearch(event) {\r\n\t\tlet value = event.target.value\r\n\t\tlet formatValue =\r\n\t\t\tvalue.length >= 1\r\n\t\t\t\t? value.substr(0, 1).toUpperCase() +\r\n\t\t\t\t  value.substr(1, value.length).toLowerCase() // first letter to uppercase, rest of letters to lowercase\r\n\t\t\t\t: value\r\n\t\tthis.setState({ value: formatValue })\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { t } = this.props\r\n\r\n\t\treturn (\r\n\t\t\t<div className=\"Characters\">\r\n\t\t\t\t<h1>Work in progress - not working</h1>\r\n\t\t\t\t<h2>{t('characters.title')}</h2>\r\n\t\t\t\t\r\n\t\t\t\t<form onSubmit={null}>\r\n\t\t\t\t\t<label>\r\n\t\t\t\t\t\t{t('characters.name-query')}\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\tvalue={this.state.value}\r\n\t\t\t\t\t\t\tonChange={this.handleCharacterSearch}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</label>\r\n\t\t\t\t\t<input type=\"submit\" value={t('common.load')} />\r\n\t\t\t\t</form>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default withTranslation('common')(Characters)\r\n","import axios from 'axios'\r\n\r\nconst client_id = 'e1d9b7f970f44229bda1942d09d3ce97'\r\nconst client_secret = '68t8Dc1UBHEX3oQC3nMLXKINoQ7Mz4Ik'\r\nconst BLIZZARD_ENDPOINT = 'https://eu.api.blizzard.com'\r\n\r\nasync function requestAuthToken() {\r\n  console.log('...Requesting Auth Token')\r\n\r\n  return await axios.post(\r\n    'https://us.battle.net/oauth/token',\r\n    {},\r\n    {\r\n      auth: {\r\n        username: `${client_id}`,\r\n        password: `${client_secret}`,\r\n      },\r\n      params: { grant_type: 'client_credentials' },\r\n    }\r\n  )\r\n}\r\n\r\nasync function getAuthToken() {\r\n  let token = localStorage.getItem('blizzard_token')\r\n  let token_expire_time = localStorage.getItem('blizzard_token_expire_time')\r\n\r\n  // Token is available in local storage\r\n  if (token !== null) {\r\n    // Check if expired\r\n    if (token_expire_time !== null) {\r\n      let isTokenExpired =\r\n        Math.floor(Date.now() / 1000) > token_expire_time - 900 // 15min before expire time\r\n      if (!isTokenExpired) {\r\n        // Token is not expired\r\n        //console.log('...found token : ' + token)\r\n        return token\r\n      }\r\n    }\r\n  }\r\n  // Request new token because no one is available or up to date\r\n  return await requestAuthToken().then(\r\n    (result) => {\r\n      // Check HTTP status code (200)\r\n      token = result.data.access_token\r\n\r\n      let new_expire_date =\r\n        Math.floor(Date.now() / 1000) + result.data.expires_in\r\n\r\n      console.log('... Putting in local storage blizzard_token : ' + token)\r\n      localStorage.setItem('blizzard_token', result.data.access_token)\r\n\r\n      console.log(\r\n        '... Putting in local storage blizzard_token_expire_time : ' +\r\n          new_expire_date\r\n      )\r\n      localStorage.setItem('blizzard_token_expire_time', new_expire_date)\r\n\r\n      return result.data.access_token\r\n    },\r\n    (error) => {\r\n      console.log('Blizzard API - error while fetching access token :' + error)\r\n      return null\r\n    }\r\n  )\r\n}\r\n\r\nexport async function client(endpoint, { body, ...customConfig } = {}) {\r\n  const token = await getAuthToken()\r\n  const headers = { 'Content-Type': 'application/json' }\r\n\r\n  const config = {\r\n    method: body ? 'POST' : 'GET',\r\n    ...customConfig,\r\n    headers: {\r\n      ...headers,\r\n      ...customConfig.headers,\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n    validateStatus: function (status) {\r\n      return status === 200\r\n    },\r\n  }\r\n\r\n  if (body) {\r\n    config.body = JSON.stringify(body)\r\n  }\r\n  return axios(endpoint, { ...config }).then(\r\n    (result) => {\r\n      return result\r\n    },\r\n    (error) => {\r\n      return Promise.reject(error.message)\r\n    }\r\n  )\r\n}\r\n\r\n// Returns mounts index list (eu, static-eu, fr_FR)\r\nclient.getMountIndex = async function (region, namespace, locale) {\r\n  return await client(BLIZZARD_ENDPOINT + '/data/wow/mount/index', {\r\n    params: {\r\n      region: `${region}`,\r\n      namespace: `${namespace}`,\r\n      locale: `${locale}`,\r\n    },\r\n  })\r\n}\r\n\r\nclient.getMountById = async function (mountid, region, namespace, locale) {\r\n  return await client(BLIZZARD_ENDPOINT + `/data/wow/mount/${mountid}`, {\r\n    params: {\r\n      region: `${region}`,\r\n      namespace: `${namespace}`,\r\n      locale: `${locale}`,\r\n    },\r\n  })\r\n}\r\n","import { createSlice, createAsyncThunk } from '@reduxjs/toolkit'\r\nimport { client } from '../../api/BlizzardAPI'\r\n\r\nconst initialState = {\r\n  data: [],\r\n  status: 'idle',\r\n  error: null,\r\n  selectedMount: null,\r\n  selectedMountAsset: '',\r\n  selectedMountStatus: 'idle',\r\n  selectedMountError: null,\r\n}\r\n\r\n// Async thunk to fetch mounts list\r\nexport const fetchMounts = createAsyncThunk('mounts/fetchMounts', async () => {\r\n  const response = await client.getMountIndex('eu', 'static-eu', 'fr_FR')\r\n  return response.data.mounts\r\n})\r\n\r\n// Async thunk to fetch mount data by its id\r\nexport const fetchMountById = createAsyncThunk(\r\n  'mounts/fetchMountById',\r\n  async (mountId) => {\r\n    const response = await client.getMountById(\r\n      mountId,\r\n      'eu',\r\n      'static-eu',\r\n      'fr_FR'\r\n    )\r\n    return response.data\r\n  }\r\n)\r\n\r\n// Async thunk to fetch asset by mount object (received by fetchMountById())\r\nexport const fetchMountAsset = createAsyncThunk(\r\n  'mounts/fetchMountAsset',\r\n  async (mount) => {\r\n    if (mount) {\r\n      const response = await client(mount.creature_displays['0'].key.href)\r\n      return response.data\r\n    } else\r\n      return Promise.reject('Need a mount object in order to fetch its asset')\r\n  }\r\n)\r\n\r\nconst MountsSlice = createSlice({\r\n  name: 'mounts',\r\n  initialState,\r\n  reducers: {\r\n    newMountClicked(state) {\r\n      state.selectedMount = null\r\n      state.selectedMountAsset = ''\r\n      state.selectedMountStatus = 'idle'\r\n      state.selectedMountError = null\r\n    },\r\n  },\r\n  extraReducers: {\r\n    [fetchMounts.pending]: (state) => {\r\n      state.status = 'loading'\r\n    },\r\n    [fetchMounts.fulfilled]: (state, action) => {\r\n      state.status = 'succeeded'\r\n      state.data = state.data.concat(action.payload)\r\n    },\r\n    [fetchMounts.rejected]: (state, action) => {\r\n      state.status = 'failed'\r\n      state.error = action.payload\r\n    },\r\n    [fetchMountById.pending]: (state) => {\r\n      state.selectedMountStatus = 'loading'\r\n    },\r\n    [fetchMountById.fulfilled]: (state, action) => {\r\n      state.selectedMountStatus = 'succeeded'\r\n      state.selectedMount = action.payload\r\n    },\r\n    [fetchMountById.rejected]: (state, action) => {\r\n      state.selectedMountStatus = 'failed'\r\n      state.selectedMountError = action.payload\r\n    },\r\n    [fetchMountAsset.fulfilled]: (state, action) => {\r\n      state.selectedMountAsset = action.payload.assets['0'].value\r\n    },\r\n  },\r\n})\r\n\r\nexport const { newMountClicked } = MountsSlice.actions\r\n\r\nexport default MountsSlice.reducer\r\n\r\nexport const selectAllMounts = (state) => state.mounts.data\r\n\r\nexport const selectMountById = (state, mountId) =>\r\n  state.mounts.data.find((mount) => mount.id === mountId)\r\n","import React from 'react'\r\nimport Loader from 'react-loader-spinner'\r\nimport './LoadingSpinner.css'\r\n\r\nconst LoadingSpinner = ({ text }) => {\r\n  return (\r\n    <div className=\"loader\">\r\n      <span>{text} </span>\r\n      <Loader\r\n        className=\"loader-spinner\"\r\n        type=\"Oval\"\r\n        color=\"#00BFFF\"\r\n        height={15}\r\n        width={15}\r\n      />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default LoadingSpinner\r\n","import React, { useEffect } from 'react'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport { useTranslation } from 'react-i18next'\r\nimport { Link } from 'react-router-dom'\r\n\r\nimport { fetchMounts } from './MountsSlice' // Actions\r\n//import { selectAllMounts } from './MountsSlice' // Selectors\r\n\r\nimport LoadingSpinner from '../../components/LoadingSpinner/LoadingSpinner'\r\nimport './MountsList.css'\r\n\r\nfunction MountsList() {\r\n  const dispatch = useDispatch()\r\n  const { t } = useTranslation('common')\r\n\r\n  const mounts = useSelector((state) => state.mounts.data)\r\n  const status = useSelector((state) => state.mounts.status)\r\n\r\n  // Fetching mounts list\r\n  useEffect(() => {\r\n    if (status === 'idle') dispatch(fetchMounts())\r\n  }, [status, dispatch])\r\n\r\n  let renderedList\r\n\r\n  if (status === 'loading') {\r\n    renderedList = <LoadingSpinner text={t('common.loading')} />\r\n  } else if (status === 'succeeded') {\r\n    const orderedMounts = mounts.slice().sort((a, b) => {\r\n      return a.name.localeCompare(b.name)\r\n    })\r\n\r\n    renderedList = orderedMounts.map((mount) => (\r\n      <Link key={mount.id} className=\"nav-list-row\" to={`/mounts/${mount.id}`}>\r\n        {mount.name}\r\n      </Link>\r\n    ))\r\n  } else if (status === 'failed') {\r\n    renderedList = <div>Couldn't load mounts</div>\r\n  }\r\n\r\n  return <div className=\"nav-list section\">{renderedList}</div>\r\n}\r\nexport default MountsList\r\n","import React, { useEffect } from 'react'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport { fetchMountById, fetchMountAsset, newMountClicked } from './MountsSlice' // Actions\r\n//import { selectMountById } from './MountsSlice' // Selectors\r\n\r\nimport LoadingSpinner from '../../components/LoadingSpinner/LoadingSpinner'\r\nimport './MountViewer.css'\r\nimport { useTranslation } from 'react-i18next'\r\n\r\nexport function MountViewer({ match }) {\r\n  const { mountId } = match.params\r\n\r\n  const dispatch = useDispatch()\r\n  const { t } = useTranslation('common')\r\n\r\n  const mount = useSelector((state) => state.mounts.selectedMount)\r\n  const mountStatus = useSelector((state) => state.mounts.selectedMountStatus)\r\n  const mountAsset = useSelector((state) => state.mounts.selectedMountAsset)\r\n\r\n  // When mountId (prop passed by router) changes : dispatch newMountClicked\r\n  useEffect(() => {\r\n    if (mountStatus !== 'idle') {\r\n      dispatch(newMountClicked())\r\n    }\r\n  }, [mountId, dispatch])\r\n\r\n  // If mount info hasn't been fetched, fetch it\r\n  useEffect(() => {\r\n    if (mountStatus === 'idle') {\r\n      dispatch(fetchMountById(mountId))\r\n    }\r\n  }, [mountStatus, dispatch])\r\n\r\n  // When selected mount exists : fetch mount asset\r\n  useEffect(() => {\r\n    if (mount) {\r\n      dispatch(fetchMountAsset(mount))\r\n    }\r\n  }, [mount, dispatch])\r\n\r\n  let renderedMount\r\n\r\n  if (mountStatus === 'loading') {\r\n    renderedMount = <LoadingSpinner text={t('common.loading')} />\r\n  } else if (mountStatus === 'succeeded') {\r\n    renderedMount = (\r\n      <div>\r\n        <div className=\"mount-name\">{mount.name}</div>\r\n        <div className=\"mount-desc\">{mount.description}</div>\r\n        <img src={mountAsset} alt={mount.name} />\r\n      </div>\r\n    )\r\n  } else if (mountStatus === 'failed') {\r\n    renderedMount = <div>The mount id {mountId} does not exist.</div>\r\n  }\r\n\r\n  return <div className=\"mount-viewer section\">{renderedMount}</div>\r\n}\r\nexport default MountViewer\r\n","import React from 'react'\r\nimport { Route } from 'react-router-dom'\r\nimport { useTranslation } from 'react-i18next'\r\n\r\nimport MountsList from './MountsList'\r\nimport MountViewer from './MountViewer'\r\nimport './Mounts.css'\r\n\r\nexport const Mounts = () => {\r\n  const { t } = useTranslation('common')\r\n\r\n  return (\r\n    <div className=\"Mounts\">\r\n      <h2>{t('mounts.title')}</h2>\r\n      <div className=\"mounts-nav-container\">\r\n        <MountsList />\r\n        <div className=\"spacer\" />\r\n        <Route path=\"/mounts/:mountId\" component={MountViewer} />\r\n        <div className=\"spacer\" />\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Mounts\r\n","import React from 'react'\r\nimport { useTranslation } from 'react-i18next'\r\n//import './Pets.css'\r\n\r\nfunction Pets() {\r\n\tconst { t } = useTranslation('common')\r\n\r\n\treturn (\r\n\t\t<div className=\"Pets\">\r\n\t\t\t\t\t\t<h1>Work in progress - not working</h1>\r\n\r\n\t\t\t<h2>{t('pets.title')}</h2>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default Pets\r\n","import React, { Component } from 'react'\r\nimport Burger from '@animated-burgers/burger-squeeze'\r\nimport { withTranslation } from 'react-i18next'\r\nimport { Link } from 'react-router-dom'\r\nimport favicon from '../../assets/favicon.svg'\r\n\r\nimport './Nav.css'\r\nimport '@animated-burgers/burger-squeeze/dist/styles.css'\r\n\r\nclass Nav extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = { burgerOpen: false, lang: 'en' }\r\n  }\r\n\r\n  handleBurgerOpen = () => {\r\n    this.setState((prevState) => {\r\n      return { burgerOpen: !prevState.burgerOpen }\r\n    })\r\n  }\r\n\r\n  handleLangChange = () => {\r\n    const { i18n } = this.props\r\n\r\n    this.setState((prevState) => {\r\n      let prevLang = prevState.lang\r\n      let newLang = this.getNextLang(prevLang)\r\n      i18n.changeLanguage(newLang)\r\n      return { lang: newLang }\r\n    })\r\n  }\r\n\r\n  getNextLang(lang) {\r\n    return lang === 'en' ? 'fr' : 'en'\r\n  }\r\n\r\n  render() {\r\n    const { t } = this.props\r\n    const { burgerOpen, lang } = this.state\r\n    let nextLang = this.getNextLang(lang)\r\n\r\n    return (\r\n      <div className=\"nav-container section\">\r\n        <div className=\"nav\">\r\n          <Burger isOpen={burgerOpen} onClick={this.handleBurgerOpen} />\r\n          <div className=\"nav-logo\">\r\n            <img src={favicon} alt=\"logo\" />\r\n            <h3>World&nbsp;of&nbsp;Warcraft&nbsp;Wiki</h3>\r\n          </div>\r\n          <div className=\"spacer\" />\r\n          <div className=\"nav-links\">\r\n            <Link to=\"/characters\">{t('characters.title')}</Link>\r\n\r\n            <Link to=\"/mounts\">{t('mounts.title')}</Link>\r\n\r\n            <Link to=\"/pets\">{t('pets.title')}</Link>\r\n          </div>\r\n\r\n          <div className=\"nav-lang\">\r\n            <button onClick={this.handleLangChange}>{nextLang}</button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default withTranslation('common')(Nav)\r\n","import React from 'react'\r\nimport { useTranslation } from 'react-i18next'\r\nimport './Footer.css'\r\n\r\nfunction Footer() {\r\n\tconst { t } = useTranslation('common')\r\n\treturn <div className=\"footer\">{t('footer.copyright')}</div>\r\n}\r\n\r\nexport default Footer\r\n","import React from 'react'\n\n// Pages\nimport Characters from './pages/characters/Characters'\nimport Mounts from './pages/mounts/Mounts'\nimport Pets from './pages/pets/Pets'\n\n// Components\nimport Nav from './components/Nav/Nav'\nimport Footer from './components/Footer/Footer'\n\nimport { BrowserRouter as Router, Switch, Route } from 'react-router-dom'\n\nimport './App.css'\n\nfunction App() {\n  return (\n    <div className=\"app\">\n      <Router>\n        <Nav />\n        <div className=\"app-body\">\n          <Switch>\n            <Route exact path=\"/\" component={Mounts} />\n            <Route path=\"/characters\" component={Characters} />\n            <Route path=\"/mounts\" component={Mounts} />\n            <Route path=\"/pets\" component={Pets} />\n          </Switch>\n        </div>\n      </Router>\n      <div className=\"spacer\" />\n      <Footer />\n    </div>\n  )\n}\n\nexport default App\n","import { configureStore } from '@reduxjs/toolkit'\r\n\r\nimport mountsReducers from './pages/mounts/MountsSlice'\r\n\r\nexport default configureStore({\r\n  reducer: {\r\n    mounts: mountsReducers,\r\n  },\r\n})\r\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport App from './App'\n\nimport { Provider } from 'react-redux'\nimport store from './store'\nimport { I18nextProvider } from 'react-i18next'\nimport i18next from 'i18next'\nimport common_en from './translations/en/common.json'\nimport common_fr from './translations/fr/common.json'\n\ni18next.init({\n  interpolation: { escapeValue: false },\n  lng: 'en', // language to use\n  resources: {\n    en: {\n      common: common_en,\n    },\n    fr: {\n      common: common_fr,\n    },\n  },\n})\n\nReactDOM.render(\n  <Provider store={store}>\n    <I18nextProvider i18n={i18next}>\n      <App />\n    </I18nextProvider>\n  </Provider>,\n  document.getElementById('root')\n)\n","module.exports = __webpack_public_path__ + \"static/media/favicon.158b0ed2.svg\";"],"sourceRoot":""}